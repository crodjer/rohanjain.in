<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Access Interviewstreet's Code Checker over HTTP - Rohan's Weblog</title>
        <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="/static/css/default.css" />
        <link rel="stylesheet" type="text/css" href="/static/css/highlight.css" />
        <link rel="alternate" type="application/rss+xml" title="Rohan's Weblog" href="/rss.xml" />
        <link href="/favicon.ico" rel="shortcut icon"/>

    </head>
    <body>
        <div id="header">
            <h1 class="superTitle"><a href="/">Rohan's Weblog</a></h1>
            <h1 class="title">Access Interviewstreet's Code Checker over HTTP</h1>
        </div>
        <div id="content">
            <span class="meta">
  by <em>crodjer</em> on <strong>April  5, 2012</strong>, tagged <a href="/tags/api.html">api</a>, <a href="/tags/interviewstreet.html">interviewstreet</a>, <a href="/tags/web.html">web</a>, <a href="/tags/django.html">django</a>
</span>
<hr class="clear"/>
<div id="post">
  <strong id="TOC">Table of contents</strong><ul>
                               <li><a href="#the-api">The API</a><ul>
                               <li><a href="#functionality">Functionality</a></li>
                               <li><a href="#reliability">Reliability</a></li>
                               </ul></li>
                               <li><a href="#developing-a-client">Developing a client</a></li>
                               </ul>

<p>It is nowadays customary of companies to expose parts of their infrastructure to the public, in the form of an (API) Application Programming Interface. Hackers can utilize these to develop innovative apps and products.</p>
<p>I have been working over exposing an API to the internal codecheckers for <a href="http://www.interviewstreet.org/">Interviewstreet</a> for some time. A beta version of this is up now and we are accepting registrations on an invite basis. Post a request for invite here: <a href="http://api.interviewstreet.org/accounts/invites/"><code class="url">http://api.interviewstreet.org/accounts/invites/</code></a></p>
<h1 id="the-api"><a href="#TOC">The API</a></h1>
<p>The API is up at <a href="http://api.interviewstreet.org/">api.interviewstreet.org</a>. It provides a HTTP based format agnostic interface. You can use any of these popular formats: json, xml, yaml, pickle. JSON is the default. Format can be specified by appending <code>.&lt;format&gt;</code> to the url. Eg:</p>
<pre><code>http://api.interviewstreet.org/v1.0/submission.xml?key=2&amp;token=snr34je9n52tY32fJh8teLRl3z4h0wbl
</code></pre>
<p>for talking to the API in <code>xml</code> format.</p>
<h2 id="functionality"><a href="#TOC">Functionality</a></h2>
<p>The functionality provided is straight forward. It asks for the programming language (supporting over 15 languages), the program to evaluate and the testcases to run that code against.<br />As results to the evaluation, it will tell you if the code was successfully compiled, how it ran against all your test cases and the outputs it generated.</p>
<h2 id="reliability"><a href="#TOC">Reliability</a></h2>
<p>This API is pretty reliable. It is a <a href="https://www.djangoproject.com/">django</a> front end to the system that is used internally. It is well maintained and regularly tested. In fact, it has already had a successful run with Overnite, a night long programming event conducted under <a href="http://ktj.in/">Kshitj</a> (IIT Kharagpurâ€™s technical Fest).</p>
<h1 id="developing-a-client"><a href="#TOC">Developing a client</a></h1>
<p>If the language you are using supports basic HTTP request, developing a client to interact with the API is simple. The <a href="http://api.interviewstreet.org/v1.0/doc/">documentation</a> explains how to use it against curl. Here is a python implementation using urllib2:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">import</span> urllib2
<span class="ch">import</span> json
<span class="ch">import</span> random

url = <span class="st">&#39;http://api.interviewstreet.org/v1.0/submission.json?token=your-api-token&#39;</span>

<span class="co"># A demo submission</span>
submission_data = {
    <span class="st">&#39;source&#39;</span>: <span class="st">&#39;print 111&#39;</span> <span class="co">#prints 111 in python,</span>
    <span class="st">&#39;hash&#39;</span>: <span class="st">&quot;your-random-submission-unique-hash&quot;</span>,
    <span class="st">&#39;testcases&#39;</span>: [
        <span class="st">&#39;case1</span><span class="ch">\n</span><span class="st">&#39;</span>,
        <span class="st">&#39;case2</span><span class="ch">\n</span><span class="st">&#39;</span>
    ],
    <span class="st">&#39;lang&#39;</span>: <span class="dv">5</span> <span class="co">#This is python</span>
}

request = urllib2.Request(url)
request.add_header(<span class="st">&#39;Content-type&#39;</span>, <span class="st">&#39;application/json&#39;</span>)
response = urllib2.urlopen(request, json.dumps(submission_data)).read()
key = json.loads(response)[<span class="st">&#39;key&#39;</span>]


<span class="co"># Getting the result</span>

response = urllib2.urlopen(<span class="st">&quot;</span><span class="ot">%s</span><span class="st">&amp;key=</span><span class="ot">%s</span><span class="st">&quot;</span> %(url, key))
result = json.loads(response.read())[<span class="st">&#39;result&#39;</span>]

<span class="co">## Do whatever with the result</span></code></pre>
</div>

<div class="comments">
  <div id="disqus_thread"></div>

  <script type="text/javascript">

    //Google analytics
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15806710-5']);
    _gaq.push(['_trackPageview']);

    //Disqus
    var disqus_shortname = 'crodjer';

    var disqus_identifier = 'access-interviewstreets-code-checker-over-http';
    var disqus_title = 'Access Interviewstreet's Code Checker over HTTP';

  </script>
  <script src="http://crodjer.disqus.com/embed.js"></script>

  <noscript>
    Please enable JavaScript to view comments
  </noscript>

</div>

        </div>
        <div id="footer">
            <hr/>
            <a class="link" href="/">Home</a>
            <a class="link" href="/about/">About</a>
            <a class="link" href="/sitemap.xml">Sitemap</a>
            <a class="link" href="/feed.xml">Feed</a>
            <span class="credits">Site proudly generated using
                <a href="http://github.com/jaspervdj/hakyll">Hakyll</a><span>
        </div>

        <script type="text/javascript" src="http://www.google-analytics.com/ga.js"></script>
    </body>
</html>
