<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Blog - Rohan Jain</title>
        <meta name="author" content="Rohan Jain">
        <meta charset=utf-8>

        <!-- Favicon -->
        <link href="/favicon.ico" rel="shortcut icon"/>

        <!--Stylesheets-->
        <link rel="stylesheet" media="screen" type="text/css" href="/css/style.css"/>
        <link rel="stylesheet" media="screen" type="text/css" href="/css/syntax.css"/>

        <!--Atom Feed-->
        <link rel="alternate" type="application/atom+xml" title="Atom" href="/atom.xml"/>

        <!-- Scripts-->
        <script type="text/javascript" src="/js/head.min.js"></script>
        <script type="text/javascript">
            //Google analytics
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-15806710-5']);
            _gaq.push(['_trackPageview']);

            //Disqus
            var disqus_shortname = 'crodjer';
            
            head.js(
                "http://www.google-analytics.com/ga.js",
                "https://apis.google.com/js/plusone.js"
            );
            
            head.js("http://crodjer.disqus.com/count.js");
            
        </script>
  </head>
  <body>
      <div id="header">
    <span class="byline">what crodjer has to say...</span>
    <h1><a href="/">Rohan Jain</a></h1>
</div>

<div id="content">
    <div class="posts">
    
    <div class="post">
    <h2 class="post-title" id="dynamic-to-static"><a href="/personal/2011/06/16/dynamic-to-static/">Dynamic to Static</a></h2>
<div class="meta">
    <span class="date">
        <img alt="Posted on" src="/images/calendar.png"/> 16 Jun, 2011
    </span>
    <span class="share">
    </span>
    <span class="tags" >
        
        <img alt="Tags" src="/images/tag.png"/>
        
        <a href="/tags/jekyll">jekyll</a>
        
        <a href="/tags/blog">blog</a>
        
        <a href="/tags/VIM">VIM</a>
        
        
    </span>

    <a class="comments" href="/personal/2011/06/16/dynamic-to-static/#disqus_thread" data-disqus-identifier="dynamic-to-static">Comments</a>
</div>


    <div class='post-text'>
        
        <p>I just shifted my website to Jekyll static pages, from the completely
dynamic <em>django</em> based and database oriented <a href="http://old.rohanjain.in">old one</a>.
The factor which drove this decision: <strong>VIM</strong> period.</p>

<p>I did not put up much on the old site because I couldn&rsquo;t post directly from
my offline editor to posts there. The functionalities that were present over
there were to much overkill and completely invisible to the public, so better
save the processing power required to render the content every time the
page is accessed.</p>

<p>After the setting up of this, I expect a considerable increase in my
blogging frequency.</p>

        
    </div>
</div>

    
    <div class="post">
    <h2 class="post-title" id="building-my-power-computer"><a href="/personal/2011/04/22/building-my-power-computer/">Building my power computer</a></h2>
<div class="meta">
    <span class="date">
        <img alt="Posted on" src="/images/calendar.png"/> 22 Apr, 2011
    </span>
    <span class="share">
    </span>
    <span class="tags" >
        
        <img alt="Tags" src="/images/tag.png"/>
        
        <a href="/tags/computer">computer</a>
        
        <a href="/tags/configuration">configuration</a>
        
        <a href="/tags/shopping">shopping</a>
        
        
    </span>

    <a class="comments" href="/personal/2011/04/22/building-my-power-computer/#disqus_thread" data-disqus-identifier="building-my-power-computer">Comments</a>
</div>


    <div class='post-text'>
        
        <p>I have been using laptops as working machines for 3 years now. With my ancient
C2D 2GHz, I can&rsquo;t play games (I don&rsquo;t anyways but still), use powerfull
applications and am able to <strong>blink my eyes</strong> (much more than once sometimes)
for most of the executions. This asks for system upgrades. But wait! upgrade
and laptop seem to be mutually exclusive. Now this is bad. I think <em>What is
the reason to buy laptops?</em>. I find only one: <strong>Portablity</strong>. But is it really
worth spending <strong>lots</strong> of extra bucks just to achieve portability, which too
come at price of way lower configuration? Aren&rsquo;t tablets the one for portability?  </p>

<p>Looking for a good laptop around, I found to get one with i7 drains around
90k-100k Rs and still the configuration will be way low end against the one
I can get according to below one of a desktop. So I get a really powerfull
desktop and save up enough to get a good Tablet for portability.</p>

<p>A rough configuration of the rig I finnaly decided:</p>

<ul>
  <li>
    <p><strong>Processor</strong>: <a href="http://j.mp/kYM47y">Coreâ„¢ i7-2600K</a> (Sandy Bridge)<br />
<strong>Rs. 17,000</strong></p>
  </li>
  <li>
    <p><strong>Mother Board</strong>: Z68 chipset based (<a href="http://j.mp/k3kM8f">ASUS</a>/<a href="http://j.mp/mnvdYo">GIGABYTE</a>)<br />
<strong>Rs. 12,000 - 16,000</strong></p>
  </li>
  <li>
    <p><strong>Graphics</strong>: None or <a href="http://j.mp/iSqbvu">GeForce GT 430</a><br />
<strong>Rs. 0 - 5,000</strong></p>
  </li>
  <li>
    <p><strong>RAM</strong>: 2X4GB DDR3<br />
<strong>Rs. 5,000 - 6,000</strong></p>
  </li>
  <li>
    <p><strong>Hard Drive</strong>
Mechanical 1-1.5 TB WD/Seagate : Rs. 3,600 - 5,500
SSD 64GB : Rs. 8, 000 - 9, 000
<strong>Rs. 12,000 - 14,000</strong></p>
  </li>
  <li>
    <p><strong>DVD RW</strong>: Rs. 1,200</p>
  </li>
  <li>
    <p><strong>Case + Power</strong>: Rs. 5,000 - 7,500</p>
  </li>
  <li>
    <p><strong>Monitor</strong>: Rs. 7,500 - 10,000</p>
  </li>
</ul>

<p>Which total around <strong>Rs. 56,000 - 65,000</strong></p>

<p>Whole analysis at my old website <a href="http://j.mp/isxQGU">http://j.mp/isxQGU</a></p>

        
    </div>
</div>

    
    <div class="post">
    <h2 class="post-title" id="hosting-multiple-sites-with-same-django-project"><a href="/hacking/2010/12/24/hosting-multiple-sites-with-same-django-project/">Hosting multiple sites with same django project</a></h2>
<div class="meta">
    <span class="date">
        <img alt="Posted on" src="/images/calendar.png"/> 24 Dec, 2010
    </span>
    <span class="share">
    </span>
    <span class="tags" >
        
        <img alt="Tags" src="/images/tag.png"/>
        
        <a href="/tags/django">django</a>
        
        <a href="/tags/hosting">hosting</a>
        
        
    </span>

    <a class="comments" href="/hacking/2010/12/24/hosting-multiple-sites-with-same-django-project/#disqus_thread" data-disqus-identifier="hosting-multiple-sites-with-same-django-project">Comments</a>
</div>


    <div class='post-text'>
        
        <p>The first thing the title triggers in the mind is the django <a href="http://docs.djangoproject.com/en/dev/ref/contrib/sites/">sites framework</a>. Well this post is mostly related to that but suggests its utilization in slight different way. As we can get from the docs in every implementation of the sites framework you have to hardcode the SITE_ID in your settings.py file. So it assumes that you have multiple django projects or at least multiple settings.py files which will be used as the django settings module for the process. So basically it provides us to share database between multiple sites which is a nice feature.  </p>

<p>For our case which is, we want to use a single django project to across multiple domains while presenting altered versions of content dependant on the originating domain (the domain names cannot be hardcoded as the number of domains is dynamic too.), we have to do something different to get this level of dynamicity. I did sone research about this on the <strong>#django</strong> IRC, <strong>stackoverflow</strong> and <strong>google</strong>. Here are some complete/incomplete ways I found out to achieve this.</p>

<h3 id="using-custom-apps-and-modules">Using custom apps and modules</h3>
<p>These ways would need us to define many custom models and middleware, hence a lot of work. The domain management would be done by the django project itself through middleware which use the HTTP_REQUST header and hence every request will be processed to obtain the information required to do database queries and render the views. So these methods looks like bit safer but would cause a performance decrease. </p>

<h4 id="modify-contrib">Modify contrib</h4>
<p>This is the rather easier way which involves modifications of code of some django contrib apps here and there. 
Just copy the apps from django-&gt;contrib folder to the project directory and modify them to accept request as argument give out results according to the HTTP_HOST and Sites database. Also change all the imo reference of these apps from <em>django.contrib.app</em> to <em>app</em>.</p>

<h4 id="forget-contrib">Forget contrib</h4>
<p>Another way would be to forget the contrib apps and write your own custom similar ones from scratch. This may be a better way for long term projects which require highly customized and special functionalities. But it will require us to write a lot of code, though the existing modules can be used for reference. </p>

<h3 id="using-unaltered-django-modules">Using unaltered django modules</h3>
<p>If we are successful in doing this it will probably let us build our project in much less lines of code and using the already existent django contribs as is. So if we don&rsquo;t modify django modules then what do we modify to achieve the dynamicity. </p>

<h4 id="wsgi">.wsgi</h4>
<p>This is what we could do: First define multiple settings files in some pattern so that they can be matched according to the domain name, say <em>settings_domain.py</em>. Now if the deployment is done using wsgi script (generally in <a href="http://docs.djangoproject.com/en/dev/howto/deployment/modwsgi/">this</a>) format. In the wsgi script we have to call the respective settings_domain.py according to the accessing domain name. So this seems pretty good but it can be dangerous. As we are setting a global variable (<code>os.environ['DJANGO_SETTINGS_MODULE']</code>) it is not at all a <strong>thread safe</strong> method. If there are two requests close enough this may pose dangerous effects. Unless we are not able to make sure that a new fork / new wsgi demon will be created per domain. So maybe one could suggest to write a good wsgi script which could handle this.</p>

<h4 id="htaccess">.htaccess</h4>
<p>Yet another way would be to make the .htaccess file dynamic, if it is possible. I don&rsquo;t have any idea if I could write an apache config file that would trigger the correct wsgi file (which triggers the correct settings one). Maybe one could suggest a way of doing this (through regex?). To me thiss seems the best way which would trigger a corresponding process for each domain.</p>

<h4 id="django-multisite">django-multisite</h4>
<p>This is a django application I found (Source: https://github.com/shestera/django-multisite) which utilize <strong>thread locals</strong> to dynamically define the SITE_ID setting according to the request domain. I have tried this and is actually working but as the django documentation has <a href="http://code.djangoproject.com/wiki/CookBookThreadlocalsAndUser">pretty clearly</a> warned against its use, I am in doubt if it is a safe way. </p>

<p>Till now I am still unclear of what method to implement among the above or some other one. There are some pros and cons of all the methods.  </p>

<p>I apologise if I have written something wrong, these all are only some methods I have found out while searching the web and discussing on the groups, so please specify if there is any mistake or you can suggest something related to this.</p>

        
    </div>
</div>

    
    <div class="post">
    <h2 class="post-title" id="whiteboarding-with-xmpp-google-talk"><a href="/hacking/2010/10/25/whiteboarding-with-xmpp-google-talk/">Whiteboarding with XMPP (Google Talk)</a></h2>
<div class="meta">
    <span class="date">
        <img alt="Posted on" src="/images/calendar.png"/> 25 Oct, 2010
    </span>
    <span class="share">
    </span>
    <span class="tags" >
        
        <img alt="Tags" src="/images/tag.png"/>
        
        <a href="/tags/xmpp">xmpp</a>
        
        <a href="/tags/pidgin">pidgin</a>
        
        <a href="/tags/whiteboarding">whiteboarding</a>
        
        
    </span>

    <a class="comments" href="/hacking/2010/10/25/whiteboarding-with-xmpp-google-talk/#disqus_thread" data-disqus-identifier="whiteboarding-with-xmpp-google-talk">Comments</a>
</div>


    <div class='post-text'>
        
        <p>Sometimes, being too lazy to use the type, you might wish for some other way to interact with others. Well there is one and quit an interactive and entertaining one, a whiteboarding interface, i.e. the people involved in chat can do collaborative drawings, play games, convey emotions not possible by typing etc. It can have some bigger implementations like teaching, presentations many more utilities can be innovated.  </p>

<p>There is already a small implementation of this feature in yahoo by name doodle. Seeing its utility one might wonder why this brilliant feature is not implemented with the widely used chat protocol, XMPP (Google Talk is based on XMPP)? Well I cant find out why not.  </p>

<p>So, we have taken an initiative. Our group (<a href="http://github.com/crodjer" title="" target="_blank">Me</a>, <a href="http://github.com/snktagarwal" title="" target="_blank">Sanket Agarwal</a> and <a href="http://github.com/psjinx" title="" target="_blank">Pankaj Singh</a>) is working for implementing this feature with the XMPP protocol, at least for pidgin users.  </p>

<h4 id="technical-info">Technical Info:</h4>
<p>Project Repository: <a href="http://github.com/crodjer/pidgin_whiteboard">http://github.com/crodjer/pidgin_whiteboard</a><br />
Updates: <a href="#updates">Project updates</a></p>

<p>This project involves building a basic implementation of the protocol specified in,  <a href="http://xmpp.org/extensions/xep-0284.html">http://xmpp.org/extensions/xep-0284.html</a>, using the SVG graphics specified in, <a href="http://www.w3.org/2000/svg">http://www.w3.org/2000/svg</a>. Both together define the standards for our work.  </p>

<p>We hope to provide the following features:</p>

<ul>
  <li>Simple whiteboarding drawing Lines, Polygons, Circles and Free Curves.</li>
  <li>Fancy Texting</li>
  <li>Image Sending</li>
  <li>This will provide users with a more enriching experience.  </li>
</ul>

<p>I am really excited about this project as it would be one of my initial contributions to the great open-source community. Till now it have been a fine ride of purpling, jingling and jabbering with pidgin.  </p>

<h4 id="updates">Updates:</h4>
<p><em>29 Nov 2010</em><br />
Work resumed after a brief pause. The target now is to integrate <a href="http://xmpp.org/extensions/xep-0284.html" target="_blank">shared XML editing</a> with jingle and add more features to the whiteboard graphical gui.  </p>

<p><em>10 Nov 2010</em><br />
Our Proof of concept is ready. All the basic features of whiteboard are now incorporated. A usable implementation now exists. You may fetch and compile the code from the git repository (Address mentioned above). This is how it looks:<br />
&lt;iframe width="425" height="349" src="http://www.youtube.com/embed/sYKutp4I4Zs"&gt;&lt;/iframe&gt;
A <a href="http://img577.imageshack.us/img577/7910/screenshot1kg.png">Snapshot</a>.  </p>

<p><em>9 Nov 2010</em>
Syncing of whiteboards is up. The whiteboards are updated as the two users draw using their brushes. So a responsive interface is present. Just some small bug fix and feature additions remain now.  <br />
<a href="http://img259.imageshack.us/img259/7980/screenshotrd.png" target="_blank">Screenshot</a>  </p>

<p><em>6 Nov 2010</em><br />
Now session initiate and accept integrated (popping up of whiteboard on both ends). Slight change in way of implementation, use of libjingle is now on a hold, creating a custom whiteboard message format for session management for now. Code in <strong>dcrodjer</strong> branch of the above git repository. 
A screenshot of the code working: <a href="http://img837.imageshack.us/img837/8250/screenshot1gb.png" target="_blank">Image for session implementation</a>  </p>

<p><em>24 Oct 2010</em><br />
A whiteboard interface initiates. This is how it look like:<br />
<a href="http://img841.imageshack.us/img841/5516/59586846.png" target="_blank">Image 1</a><br />
<a href="http://img221.imageshack.us/img221/4198/65357038.png" target="_blank">Image 2</a></p>

        
    </div>
</div>

    
</div>

<div class="paginator">
    
    <a href="/" class="previous">Previous</a>
    
    <span class="page_number ">Page: 2 of 2</span>
    
    <span class="next ">Next</span>
    
</div>

</div>

<div id="sidebar">
    <ul>
        <li><a href="/">Blog</a></li>
        <li><a href="/about">About Me</a></li>
        <li><a href="/archive">Archive</a></li>
    </ul>
</div>

<div id="footer">
    <p>
        <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a>
        Using <a href="http://jekyllrb.com/">Jekyll</a>,
        <a href="http://pygments.org/">Pygments</a>
        | <a href="/sitemap.xml">Sitemap</a>, <a href="http://feeds.feedburner.com/crodjerBlog">Feed</a>
    </p>
</div>

 </body>
</html>
