<!doctype html><html lang=en-US><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=author content="Rohan Jain"><meta name=description content="I need to be able to access all the computers over the
internet as they are spread across the country:

descartes: My dad&rsquo;s Debian desktop (1800 km away).
kant: RPi 3 running Arch (a NAS, printer, a wormhole).
camus: RPi 4 running Manjaro (my personal work machine).
nietzsche: My wife&rsquo;s Manjaro notebook.
Phones: newton, feyman, einstine and sagan.
kepler: a tiny Debian on Google Cloud.
webb: a tiny Ubuntu Server on Oracle Cloud.


All the computers actually have different astronomy inspired names."><meta property="og:url" content="/jumper/"><meta property="og:site_name" content="The Perpetual Amature"><meta property="og:title" content="Hopping across the country with WireGuard"><meta property="og:description" content="I need to be able to access all the computers over the internet as they are spread across the country:
descartes: My dad’s Debian desktop (1800 km away). kant: RPi 3 running Arch (a NAS, printer, a wormhole). camus: RPi 4 running Manjaro (my personal work machine). nietzsche: My wife’s Manjaro notebook. Phones: newton, feyman, einstine and sagan. kepler: a tiny Debian on Google Cloud. webb: a tiny Ubuntu Server on Oracle Cloud. All the computers actually have different astronomy inspired names."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-02-21T19:11:38+05:30"><meta property="article:modified_time" content="2021-02-21T19:11:38+05:30"><title>Hopping across the country with WireGuard</title><link rel=canonical href=/jumper/><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500"><link rel=stylesheet href=/css/pygments.min.42fe0099f9515ec8cb510d96b2ec79b3525dab83b63dc7ca290b29679ae42e97.css integrity="sha256-Qv4AmflRXsjLUQ2Wsux5s1Jdq4O2PcfKKQspZ5rkLpc="><link rel=stylesheet href=/css/main.min.c68c335eeebce93de52fbcb7da1c37009f0cb82d1a03d307d4ffdd9b0ddf5186.css integrity="sha256-xowzXu686T3lL7y32hw3AJ8MuC0aA9MH1P/dmw3fUYY="><link rel="shortcut icon" href=/img/avatar.png></head><body lang=en><section class=header><div class=container><div class=content><a href=/><img class=avatar src=/img/avatar.png alt=avatar></a>
<a href=/><div class=name>Rohan Jain</div></a><nav><ul><li class=nav-home><a href=/><span>Home</span></a></li><li class=nav-about><a href=/about/><span>About</span></a></li></ul></nav></div></div></section><section class="main post non-narrow zero-top-spacing"><div class=container><div class=content><div class=front-matter><div class=title-container><div class=page-heading>Hopping across the country with WireGuard</div><div class=initials><a href=/></a></div></div><div class=meta><div class=date title='Sun Feb 21 2021 19:11:38 +0530'>Feb 21, 2021</div><div class=reading-time><div class=middot></div>2 minutes read</div></div></div><div class=markdown><p>I need to be able to access all the computers over the
internet as they are spread across the country:</p><ul><li><code>descartes</code>: My dad&rsquo;s Debian desktop (1800 km away).</li><li><code>kant</code>: RPi 3 running Arch (a NAS, printer, a wormhole).</li><li><code>camus</code>: RPi 4 running Manjaro (my personal work machine).</li><li><code>nietzsche</code>: My wife&rsquo;s Manjaro notebook.</li><li>Phones: <code>newton</code>, <code>feyman</code>, <code>einstine</code> and <code>sagan</code>.</li><li><code>kepler</code>: a tiny Debian on Google Cloud.</li><li><code>webb</code>: a tiny Ubuntu Server on Oracle Cloud.</li></ul><blockquote><p>All the computers actually have different astronomy inspired names.</p></blockquote><p>Additionally, I found my lost RPi 2 hidden in a bag&rsquo;s pocket, so it&rsquo;ll
also find a place among all the others (likely a second wormhole at
my parens&rsquo;).</p><p>For a long time, I was using <a href=/vnc/>reverse SSH based tunnels</a>, which
worked reliably, but was slow (a US based VM) and not the cleanest. I
couldn&rsquo;t easily add machines and each machine would need to SSH in
opening a reverse SSH tunnel which I&rsquo;d need to note somewhere.</p><p>For the last year or so though, I have been using
<a href=https://www.zerotier.com/>ZeroTier</a>. It works relibably and is easy
to administer through the web interface. Being peer-to-peer, it is
very low latency and sloved all my problems. So, the reverse SSH
tunnels was now a redundant setup for me.</p><p>That is, until now. I finally got around to setup a <a href=https://www.wireguard.com>WireGuard</a> server.
WireGuard is surprisingly simple to setup and works reliably. There
are multiple guides on how to set it up (hence I didn&rsquo;t yet another),
like <a href=https://wiki.debian.org/SimplePrivateTunnelVPNWithWireGuard>this one</a>.
The way to administor it is a bit more involved than ZeroTier, but
once setup, it works transparently. Interestingly, the hop latency
doesn&rsquo;t take much of a hit because the cloud VM sits near the line
connecting me and my parents'.</p><p>I am happy with the setup now with ZeroTier and WireGuard serving as
each other&rsquo;s redundancy.</p><p>Interestingly, the VPNs aren&rsquo;t even the primary network tool that I
use. All these devices share most of their data with each other via
<a href=https://syncthing.net/>syncthing</a>. Syncthing is an awesome piece of technology allowing
me to have redundancy and local access to files. Run <a href=https://docs.syncthing.net/users/strelaysrv.html>a relay</a> or
<a href=https://syncthing.net/donations/>donate</a> if you can.</p><br><p class=back-to-posts><a href=/blog>Back to posts</a></p></div></div></div></section><section class=icons><div class=container><div class=content><a href=//github.com/crodjer target=_blank rel=noopener>Github</a>
<a href=//linkedin.com/in/crodjer target=_blank rel=noopener>Linkedin</a>
<a href=//twitter.com/__crodjer__ target=_blank rel=noopener>Twitter</a></div></div></section></body></html>