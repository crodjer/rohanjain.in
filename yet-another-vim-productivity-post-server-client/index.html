<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Yet another Vim productivity post: Server-Client - Rohan's Weblog</title>
        <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" type="text/css" href="/static/css/default.css" />
        <link rel="stylesheet" type="text/css" href="/static/css/highlight.css" />
        <link rel="alternate" type="application/rss+xml" title="Rohan's Weblog" href="/rss.xml" />
        <link href="/favicon.ico" rel="shortcut icon"/>

    </head>
    <body>
        <div id="header">
            <h1 class="superTitle"><a href="/">Rohan's Weblog</a></h1>
            <h1 class="title">Yet another Vim productivity post: Server-Client</h1>
        </div>
        <div id="content">
            <span class="meta">
  by <em>crodjer</em> on <strong>April 15, 2012</strong>, tagged <a href="/tags/vim.html">vim</a>, <a href="/tags/server.html">server</a>, <a href="/tags/productivity.html">productivity</a>
</span>
<hr class="clear"/>
<div id="post">
  <strong id="TOC">Table of contents</strong><ul>
                               <li><a href="#vim-server-zsh-and-tiles">Vim Server, ZSH and Tiles</a></li>
                               <li><a href="#vim-sessions">Vim Sessions</a></li>
                               <li><a href="#tldr">tldr;</a></li>
                               </ul>

<p>There are 10 text editors in this world: One is <em>Vim</em> and the other <em>Emacs</em>. Now, when it all began I chose Vim. I know there is no need for me to sell it to you. It does that itself. I rely heavily on the Vim <em>server-client</em> feature and thought that it should share it with everyone.</p>
<h1 id="vim-server-zsh-and-tiles"><a href="#TOC">Vim Server, ZSH and Tiles</a></h1>
<p>A Vim instance behaves as a server in which files can be opened through remote applications. Read <code>:help client-server</code> of Vim to know more about this. I generally keep multiple Vim sessions running, described by task they are related to. A typical workspace has one instance of Vim running and multiple terminals around it. Lets call this workspace for project <em>foo</em>. So the name of Vim instance server will be <em>foo</em>:</p>
<pre><code>vim --servername foo</code></pre>
<p>And any file will be open in this server, using this command:</p>
<pre><code>vim --servername foo --remote-silent bar.hs


+-----------------------+
|           |~$         |
|           |           |
|           |-----------+
|    Vim    |~$         |
|   Server  |           |
|           |-----------+
|           |~$         |
|           |           |
+-----------------------+</code></pre>
<p>How this helps:</p>
<ul>
<li><p>Lets me keep a well defined separation on various projects I am working on. The list of files in the buffer per instance remains short and manageable.</p></li>
<li><p>Also each instance can have its own project specific environment - current directory, python virtual environments etc.</p></li>
</ul>
<p>For easing all this up, I use a set of helper functions in my <em>zshrc</em>:</p>
<pre class="sh"><code># Set the name of vim session the terminal is tied up to
eset(){
    export VI_SERVER=$1
}

# Fire up a new server according to the argument supplied
vs(){
    eset $1
    vim --servername $VI_SERVER
}

# Open up the files in the environment Vim server.
es(){
    vim --servername $VI_SERVER --remote-silent $*
}

# Reuse Vim ZSH completions for vim completions
compdef _vim es
</code></pre>
<h1 id="vim-sessions"><a href="#TOC">Vim Sessions</a></h1>
<p>Having multiple instances is great, but I donâ€™t want to set each up every time I need resume working. For this I use <em>Vim Sessions</em>, which allow the current Vim state to be stored over the disk.</p>
<p><a href="https://github.com/xolox/vim-session">vim-session</a> plugin will help you manage sessions easily. It is well integrated with Vim client-server.</p>
<p>From docs:</p>
<blockquote>
<p>When you start Vim with a custom server name that matches one of the existing session names then the matching session will be automatically restored.</p>
</blockquote>
<h1 id="tldr"><a href="#TOC">tldr;</a></h1>
<p>Checkout <code>:help client-server</code> in vim and <a href="https://github.com/xolox/vim-session">vim-session</a>, to boost your productivity some more with Vim.</p>
</div>

<div class="comments">
  <div id="disqus_thread"></div>

  <script type="text/javascript">

    //Google analytics
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15806710-5']);
    _gaq.push(['_trackPageview']);

    //Disqus
    var disqus_shortname = 'crodjer';

    var disqus_identifier = 'yet-another-vim-productivity-post-server-client';
    var disqus_title = 'Yet another Vim productivity post: Server-Client';

  </script>
  <script src="http://crodjer.disqus.com/embed.js"></script>

  <noscript>
    Please enable JavaScript to view comments
  </noscript>

</div>

        </div>
        <div id="footer">
            <hr/>
            <a class="link" href="/">Home</a>
            <a class="link" href="/about/">About</a>
            <a class="link" href="/sitemap.xml">Sitemap</a>
            <a class="link" href="/feed.xml">Feed</a>
            <span class="credits">Site proudly generated using
                <a href="http://github.com/jaspervdj/hakyll">Hakyll</a><span>
        </div>

        <script type="text/javascript" src="http://www.google-analytics.com/ga.js"></script>
    </body>
</html>
