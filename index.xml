<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>The Perpetual Amature</title><link>/</link><description>Recent content on The Perpetual Amature</description><generator>Hugo</generator><language>en-US</language><lastBuildDate>Sun, 26 Oct 2025 09:27:21 +0530</lastBuildDate><atom:link href="/index.xml" rel="self" type="application/rss+xml"/><item><title>Self Hosting Gitlab using Quadlets</title><link>/gitlab/</link><pubDate>Sun, 26 Oct 2025 09:27:21 +0530</pubDate><guid>/gitlab/</guid><description>&lt;h3 id="what-are-quadlets"&gt;What are Quadlets?&lt;/h3&gt;
&lt;p&gt;I self-host most of my services important to me personally. Lately, I have been
using &lt;a href="https://www.redhat.com/en/blog/quadlet-podman"&gt;Quadlets&lt;/a&gt; for this. I came
across the concept of Quadlets from Immich.&lt;/p&gt;
&lt;p&gt;For git repositories, I have been just using &lt;code&gt;git init --bare&lt;/code&gt; in a server and
plain SSH to work them: &lt;code&gt;git clone git@&amp;lt;user&amp;gt;:sources/&amp;lt;repo&amp;gt;&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Having used Quadlets with Immich, I thought of trying using them with Gitlab.
And this post talks about how to do that.&lt;/p&gt;</description></item><item><title>Bootstrapping pipx for the obsessed</title><link>/pipx/</link><pubDate>Sat, 04 Sep 2021 19:41:19 +0530</pubDate><guid>/pipx/</guid><description>&lt;p&gt;Managing Python based applications is made easy with
&lt;a href="https://github.com/pypa/pipx"&gt;pipx&lt;/a&gt;. But I dislike installing pipx
via a pip user install, as it results in two python utilities
managing packages. So, instead I let pipx manage it&amp;rsquo;s own updates.&lt;/p&gt;
&lt;p&gt;Here&amp;rsquo;s how we can do it on a Debian system:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Install &lt;code&gt;python3-pip&lt;/code&gt;, with:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ sudo apt install python3-pip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Install pipx:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$ pip install --user pipx
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Didn&amp;rsquo;t we want avoid that? Yes! We&amp;rsquo;ll clean this up later.&lt;/p&gt;</description></item><item><title>Cross Compiling Rust Binaries with Github Actions</title><link>/cargo-cross/</link><pubDate>Sun, 27 Jun 2021 16:50:00 +0530</pubDate><guid>/cargo-cross/</guid><description>&lt;p&gt;Compiling &lt;em&gt;rust&lt;/em&gt; is slow, specially on low power devices such as a
&lt;em&gt;Raspberry Pi&lt;/em&gt;. I build all my rust utilities with my RPi 4 and sync to
the rest with &lt;a href="https://syncthing.net/"&gt;syncthing&lt;/a&gt;. That was true for
my project, &lt;a href="https://github.com/crodjer/sysit"&gt;&lt;strong&gt;sysit&lt;/strong&gt;&lt;/a&gt;, as well. I
use sysit on all my systems to keep tabs on the resource usage.&lt;/p&gt;
&lt;p&gt;Inspired from how &lt;a href="https://github.com/lotabout/skim/blob/master/.github/workflows/publish-github.yml"&gt;skim&lt;/a&gt;
utilizes cross compilation to build binaries directly using Github
workflows, I incorporated a similar flow in sysit.&lt;/p&gt;</description></item><item><title>Encrypting üîê a Home üè° in Raspberry Pi</title><link>/fscrypt/</link><pubDate>Mon, 24 May 2021 11:22:27 +0530</pubDate><guid>/fscrypt/</guid><description>&lt;blockquote&gt;
&lt;p&gt;;tldr
Use &lt;a href="https://wiki.archlinux.org/title/Fscrypt#Encrypt_a_home_directory"&gt;fscrypt&lt;/a&gt; to encrypt your
home partition, with a few simple steps.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="why-encryption"&gt;Why encryption?&lt;/h2&gt;
&lt;p&gt;I prefer to encrypt all my (and my family&amp;rsquo;s) storage at rest.
Encryption is useful in scenarios where someone gains physical access
to your device. This may save you from any losses other than the
material cost of the device. Specially with a Raspberry Pi, it is more
of a worry as how tiny the device is (the SD card is even smaller).
It is much less likely that you &lt;em&gt;lose&lt;/em&gt; your desktop tower. Its
worrying how many people carry around their portable computing devices
(phones/laptops/tables) around without encryption at rest.&lt;/p&gt;</description></item><item><title>Hopping across the country with WireGuard</title><link>/jumper/</link><pubDate>Sun, 21 Feb 2021 19:11:38 +0530</pubDate><guid>/jumper/</guid><description>&lt;p&gt;I need to be able to access all the computers over the
internet as they are spread across the country:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;descartes&lt;/code&gt;: My dad&amp;rsquo;s Debian desktop (1800 km away).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kant&lt;/code&gt;: RPi 3 running Arch (a NAS, printer, a wormhole).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;camus&lt;/code&gt;: RPi 4 running Manjaro (my personal work machine).&lt;/li&gt;
&lt;li&gt;&lt;code&gt;nietzsche&lt;/code&gt;: My wife&amp;rsquo;s Manjaro notebook.&lt;/li&gt;
&lt;li&gt;Phones: &lt;code&gt;newton&lt;/code&gt;, &lt;code&gt;feyman&lt;/code&gt;, &lt;code&gt;einstine&lt;/code&gt; and &lt;code&gt;sagan&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;kepler&lt;/code&gt;: a tiny Debian on Google Cloud.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;webb&lt;/code&gt;: a tiny Ubuntu Server on Oracle Cloud.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;All the computers actually have different astronomy inspired names.&lt;/p&gt;</description></item><item><title>Cooling the Raspberry Pi 4 with Argon Neo</title><link>/pi-cooling/</link><pubDate>Fri, 08 Jan 2021 10:21:02 +0530</pubDate><guid>/pi-cooling/</guid><description>&lt;p&gt;The Raspberry Pi 4 runs hot, specially when overclocked. As I use it
as my programming machine for my personal projects, I wanted to get
the most out of its CPU.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://twitter.com/__crodjer__/status/1265526804808372224/photo/1"&gt;first case&lt;/a&gt; I ordered for my Pi came with a fan which worked on
3.3V and 5V (too noisy). I setup a circuit which would allow me to
turn it on/off via a GPIO pin controlled by
&lt;a href="https://github.com/crodjer/configs/blob/master/scripts/rpi-fan.py"&gt;this python based service&lt;/a&gt;,
which turns the fan on/off based on certain threshold temperatures.
This did work but the idling Pi would always go beyond the threshold
temperature turning the fan on when. With the threshold at 65¬∞C. I was
getting 1:10 on:off ratio, which meant fan noise every 10 minutes of
idle time.&lt;/p&gt;</description></item><item><title>Some Light in the Background</title><link>/light/</link><pubDate>Wed, 15 Apr 2020 09:22:34 +0530</pubDate><guid>/light/</guid><description>&lt;h4 id="tldr"&gt;tl;dr&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;Dark backgrounds are the best. But when one accidentally land
somewhere with a light background with eyes trained for dark, it can
hurt. So, one may as well just make everything light for
consistency.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;We love dark backgrounds. They are easier on the eyes, comfortable to
work with in the night/dark rooms. So, we&amp;rsquo;d like everything that
we see on the screen to be dark. And that&amp;rsquo;s the key, &lt;em&gt;everything&lt;/em&gt; must
be dark.&lt;/p&gt;</description></item><item><title>Window Management in OSX with Spark</title><link>/spark/</link><pubDate>Wed, 06 Dec 2017 12:44:55 +0000</pubDate><guid>/spark/</guid><description>&lt;p&gt;I am a big fan of deterministic access to applications windows. That is, to be
able to open them without needing any visual feedback from the screen. Tiling
window managers do this well. On OSX, this can be tricky.&lt;/p&gt;
&lt;p&gt;For a long time, I used a &lt;a href="/two-windows/"&gt;two windows&lt;/a&gt; workflow i.e. all the
applications I need should run in just two windows (applications): the browser
(mail, slack etc.) or the terminal (emacs, tmux, bash). This works, but is
restrictive.&lt;/p&gt;</description></item><item><title>The Purpose Of It All</title><link>/42/</link><pubDate>Wed, 10 May 2017 02:34:01 +0000</pubDate><guid>/42/</guid><description>&lt;blockquote&gt;
&lt;p&gt;If you have some time, I&amp;rsquo;d recommend reading &lt;a href="https://www.goodreads.com/book/show/11987.The_Myth_of_Sisyphus_and_Other_Essays?ac=1&amp;amp;from_search=true"&gt;The Myth of
Sysiphus&lt;/a&gt;
instead.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The mind is free, with not much to worry about and starts to wander. It lands on
the question: &amp;ldquo;What is the meaning of it all?&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Its not difficult to arrive at the answer: &amp;ldquo;There isn&amp;rsquo;t a meaning, really&amp;rdquo;, and
sets in an existential crisis.&lt;/p&gt;
&lt;p&gt;But, I&amp;rsquo;d argue that there is a flaw in the question. Meaning isn&amp;rsquo;t something one
should try to look for at all. Maybe, purpose is the right quest. And if you try
to observe (or just use Camus&amp;rsquo; observations), the apparent purpose can be
inferred.&lt;/p&gt;</description></item><item><title>Dynamic DNS with Cloudflare</title><link>/cloudflare-ddns/</link><pubDate>Sat, 18 Mar 2017 05:28:10 +0000</pubDate><guid>/cloudflare-ddns/</guid><description>&lt;p&gt;It is hard to maintain a regular internet uptime with home connections. 1/2
router re-connections per week can be fairly common. When that happens, the
public IP changes with most ISPs. This can be annoying if you want access your
computer remotely (possibly to SSH home). Dynamic DNS is a solution that exists
to solve just that.&lt;/p&gt;
&lt;p&gt;I maintain DNS entries for my domain at
&lt;a href="https://www.cloudflare.com/"&gt;Clouflare&lt;/a&gt;. The latest version of
&lt;a href="https://sourceforge.net/p/ddclient/wiki/Home/"&gt;&lt;code&gt;ddclient&lt;/code&gt;&lt;/a&gt; supports Cloudflare
API, which works well with my ArchLinux box. But ddclient bundled with Raspbian,
is yet to get that update. Cloudflare&amp;rsquo;s API is fairly straight forward, so I
decided to use a curl/systemd based solution on my RaspberryPi.&lt;/p&gt;</description></item><item><title>The two windows workflow</title><link>/two-windows/</link><pubDate>Mon, 27 Feb 2017 06:15:12 +0000</pubDate><guid>/two-windows/</guid><description>&lt;p&gt;I was introduced to OSX for the first time in September, 2015. Coming from a
XMonad/Linux based setup, I was accustomed to powerful and fast window
management. Most available solutions for OSX did not have these qualities. I
tried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Amethyst&lt;/em&gt;, a window manager with basic XMonad bindings.&lt;/li&gt;
&lt;li&gt;Just type the application name in &lt;em&gt;Alfred&lt;/em&gt;. Initially this was slow, but
quickly became habitual.&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Mjolinr&lt;/em&gt;, which is configured in Lua and can actually be quite powerful.&lt;/li&gt;
&lt;li&gt;Numerous other programs out there which try to solve the same problem in
similar fashion.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These programs sort of worked, but they are slow and unresponsive. Alfred based
switching works on application level and not window level. So, I needed some
simpler alternatives.&lt;/p&gt;</description></item><item><title>Decentralized Twitter</title><link>/decentralized-twitter/</link><pubDate>Sat, 11 Feb 2017 15:20:45 +0000</pubDate><guid>/decentralized-twitter/</guid><description>&lt;p&gt;As a social network, twitter has a few fairly unique characteristics:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;It forces people to be more creative in trying to express the idea within 140
characters.&lt;/li&gt;
&lt;li&gt;Ability to control the content that you receive. Stricter filtering is
possible based on one&amp;rsquo;s interests.&lt;/li&gt;
&lt;li&gt;On platforms such as Quora/Facebook, the feed is not deterministic. That&amp;rsquo;s
not the case with twitter. You see tweets in order and as they happen.
Twitter doesn&amp;rsquo;t try to decide what is important and what is not.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But Twitter has been bleeding money since I have known about it. It has
seemingly created a lot of value in sharing of ideas and news. If it were to go
away, it&amp;rsquo;ll have an (at least temporary) impact on its users.&lt;/p&gt;</description></item><item><title>Find my code at Github</title><link>/code/</link><pubDate>Sat, 11 Feb 2017 09:48:44 +0000</pubDate><guid>/code/</guid><description>&lt;p&gt;You can find most of the public code I have written at
&lt;a href="https://github.com/crodjer"&gt;Github&lt;/a&gt;.&lt;/p&gt;</description></item><item><title>Navigating with the first telescope</title><link>/telescope/</link><pubDate>Thu, 12 May 2016 00:00:00 +0000</pubDate><guid>/telescope/</guid><description>&lt;p&gt;In my &lt;a href="/sky/"&gt;previous post&lt;/a&gt;, I wrote about my initial experiences with stargazing -
primarily to demonstrate that it can be fascinating without fancy
equipment. After those initial sessions, I bought a telescope which magnified my
experience significantly.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Stars. Stars everywhere!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id="the-telescope"&gt;The Telescope&lt;/h2&gt;
&lt;p&gt;The primary purpose of an (astronomical) telescope, unlike popular belief, is
not actually magnification. They act as light collectors (think burning a paper
with a converging lens and sunlight).&lt;/p&gt;</description></item><item><title>Gazing in the night sky</title><link>/sky/</link><pubDate>Wed, 04 May 2016 00:00:00 +0000</pubDate><guid>/sky/</guid><description>&lt;p&gt;About 6 months ago, I picked up a new hobby: Stargazing. Starting off with just
naked eyes, I quickly realized that there is actually quite a lot to see without
any optical equipment. &lt;a href="https://play.google.com/store/apps/details?id=com.google.android.stardroid&amp;amp;hl=en"&gt;Sky Map&lt;/a&gt; and &lt;a href="http://stellarium.org/"&gt;Stellarium&lt;/a&gt; are incredibly useful
applications for a dilettante like me.&lt;/p&gt;
&lt;h2 id="dark-adjustment"&gt;Dark adjustment&lt;/h2&gt;
&lt;p&gt;Before any stargazing session, dark adjustment i.e. dilating the pupils
completely to improve night vision, is essential. I turn off all kinds of lights
in the house and listen to podcasts for a while (at least 30 minutes). I go out
to stargaze when the outside looks brighter than inside.&lt;/p&gt;</description></item><item><title>You have infinite email addresses</title><link>/infi-mail/</link><pubDate>Sat, 02 Apr 2016 00:00:00 +0000</pubDate><guid>/infi-mail/</guid><description>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;tl;dr&lt;/strong&gt;&lt;br&gt;
You can add arbitrary tags to your email address. Any email sent to
&lt;code&gt;your-email+tag@your-provider.ext&lt;/code&gt; will land in the inbox for
&lt;code&gt;your-email@your-provider.ext&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Emails are important. They are your identity on the web. Just like on phone,
you&amp;rsquo;d want to control who can contact you via email. This warrants caution in
signing up at places on the internet. It can be unsafe to register with the
personal email address on new services for multiple reasons:&lt;/p&gt;</description></item><item><title>Categorizing archives by year with Hakyll</title><link>/hakyll-years/</link><pubDate>Mon, 31 Aug 2015 00:00:00 +0000</pubDate><guid>/hakyll-years/</guid><description>&lt;p&gt;Recently, I decided to categorize my posts under directories named by
the year they were created in. For example, this post is placed at:
&lt;code&gt;posts/2015/hakyll-years.mkd&lt;/code&gt;. I decided to utilize this structure to
also group how archives are listed. Inspired from
&lt;a href="http://jaspervdj.be/hakyll/reference/src/Hakyll-Web-Tags.html"&gt;Hakyll&amp;rsquo;s tag functionality&lt;/a&gt;
I wrote my own group by years functionality. This post tries to
explain that. Also, I don&amp;rsquo;t see why a similar logic cannot be used to
do simple pagination.&lt;/p&gt;</description></item><item><title>Clean URLs with Hakyll</title><link>/hakyll-clean-urls/</link><pubDate>Sun, 30 Aug 2015 00:00:00 +0000</pubDate><guid>/hakyll-clean-urls/</guid><description>&lt;p&gt;The URLs generated by &lt;a href="http://jaspervdj.be/hakyll/"&gt;Hakyll&lt;/a&gt;, by default also include a
&lt;code&gt;.html&lt;/code&gt; extension. I have never been a fan of this. When things in
reality are driven by the &lt;code&gt;Content-Type&lt;/code&gt; header, it is absolutely
redundant.&lt;/p&gt;
&lt;p&gt;Hakyll provides all the utilities with which we can get cleaner URLs,
like &lt;a href="."&gt;this page&amp;rsquo;s&lt;/a&gt;. For this, I rely on the fact that most of the
web servers automatically serve &lt;code&gt;/foo/index.html&lt;/code&gt; for the URL
&lt;code&gt;/foo/&lt;/code&gt;. To generate &lt;em&gt;clean&lt;/em&gt; paths, I define a custom route -
&lt;code&gt;cleanRoute&lt;/code&gt;:&lt;/p&gt;</description></item><item><title>Sitemap with Hakyll</title><link>/hakyll-sitemap/</link><pubDate>Sun, 30 Aug 2015 00:00:00 +0000</pubDate><guid>/hakyll-sitemap/</guid><description>&lt;p&gt;Its fairly trivial to configure &lt;a href="http://jaspervdj.be/hakyll/"&gt;Hakyll&lt;/a&gt; to generate
sitemaps. Sitemaps helps search engines websites. Similar to any
typical html page, create a template - &lt;code&gt;templates/sitemap.xml&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-xml" data-lang="xml"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="cp"&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;&amp;lt;urlset&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;http://www.sitemaps.org/schemas/sitemap/0.9&amp;#34;&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$for(entries)$
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;lt;loc&amp;gt;&lt;/span&gt;$host$$url$&lt;span class="nt"&gt;&amp;lt;/loc&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;lt;changefreq&amp;gt;&lt;/span&gt;weekly&lt;span class="nt"&gt;&amp;lt;/changefreq&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; $if(lastmod)$&lt;span class="nt"&gt;&amp;lt;lastmod&amp;gt;&lt;/span&gt;$lastmod$&lt;span class="nt"&gt;&amp;lt;/lastmod&amp;gt;&lt;/span&gt;$endif$
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;lt;priority&amp;gt;&lt;/span&gt;0.8&lt;span class="nt"&gt;&amp;lt;/priority&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;$endfor$
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="nt"&gt;&amp;lt;/urlset&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then, using the templates, create a rule which uses all the pages from
the site as entries. Here is what I do:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-haskell" data-lang="haskell"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;create&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#34;sitemap.xml&amp;#34;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt; &lt;span class="kr"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;route&lt;/span&gt; &lt;span class="n"&gt;idRoute&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;compile&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt; &lt;span class="kr"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;posts&lt;/span&gt; &lt;span class="ow"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="n"&gt;recentFirst&lt;/span&gt; &lt;span class="o"&gt;=&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;loadAll&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;posts/*/*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;pages&lt;/span&gt; &lt;span class="ow"&gt;&amp;lt;-&lt;/span&gt; &lt;span class="n"&gt;loadAll&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;pages/*&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;let&lt;/span&gt; &lt;span class="n"&gt;allPosts&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;return&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pages&lt;/span&gt; &lt;span class="o"&gt;++&lt;/span&gt; &lt;span class="n"&gt;posts&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="kr"&gt;let&lt;/span&gt; &lt;span class="n"&gt;sitemapCtx&lt;/span&gt; &lt;span class="ow"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mconcat&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;[&lt;/span&gt; &lt;span class="n"&gt;listField&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;entries&amp;#34;&lt;/span&gt; &lt;span class="n"&gt;pageCtx&lt;/span&gt; &lt;span class="n"&gt;allPosts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;constField&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;host&amp;#34;&lt;/span&gt; &lt;span class="n"&gt;host&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;defaultContext&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="p"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="n"&gt;makeItem&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;loadAndApplyTemplate&lt;/span&gt; &lt;span class="s"&gt;&amp;#34;templates/sitemap.xml&amp;#34;&lt;/span&gt; &lt;span class="n"&gt;sitemapCtx&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;=&lt;/span&gt; &lt;span class="n"&gt;cleanIndexHtmls&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This generates &lt;a href="/sitemap.xml"&gt;/sitemap.xml&lt;/a&gt; which can be submitted to
search engines for indexing.&lt;/p&gt;</description></item><item><title>Testing tornado websockets without third party clients</title><link>/ws-test/</link><pubDate>Sat, 22 Aug 2015 00:00:00 +0000</pubDate><guid>/ws-test/</guid><description>&lt;p&gt;Recently, I built an encrypted &lt;a href="http://github.com/crodjer/qotr/"&gt;chat service&lt;/a&gt;, which was based on
&lt;a href="http://www.tornadoweb.org/"&gt;tornado&lt;/a&gt; and &lt;a href="http://emberjs.com/"&gt;ember.js&lt;/a&gt;. The project itself had grave security issues, so I
shut it down, but while working on it I learned a few new things and testing
websockets with tornado is one of them.&lt;/p&gt;
&lt;p&gt;Most of the material out there for this suggests developing separate client
based tests, which I didn&amp;rsquo;t want to do. Eventually, I figured out that tornado
already provides all the utilities to do unit/integration tests for websockets.&lt;/p&gt;</description></item><item><title>Using pulseaudio to play system beeps</title><link>/bell/</link><pubDate>Thu, 20 Aug 2015 00:00:00 +0000</pubDate><guid>/bell/</guid><description>&lt;p&gt;Recently, I built a new desktop. After receiving everything, I realized that I
was missing the onboard speaker (which creates the annoying beep sound).
Ideally, the computer case should have had it, but they don&amp;rsquo;t come with a buzzer
anymore. My various applications rely on the system beep, hence I needed to find
a software alternative. Turns out it is fairly trivial to configure it to
capture alerts with pulseaudio:&lt;/p&gt;</description></item><item><title>Switch between networks based on availability</title><link>/route-to/</link><pubDate>Wed, 19 Aug 2015 00:00:00 +0000</pubDate><guid>/route-to/</guid><description>&lt;p&gt;Having been blessed with an unreliable internet, I always have had the need to
change the default route when one goes down. &lt;a href="http://linux.die.net/man/8/ip"&gt;ip&lt;/a&gt; provides you the required
tooling to do that. I had been doing it so often, that I ended up writing a
function to do this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" class="chroma"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;route_to &lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;interface&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nv"&gt;route&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;ip route &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="nv"&gt;$interface&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed -r &lt;span class="s1"&gt;&amp;#39;s/\.0\/[[:digit:]]{2,3} /.1 /&amp;#39;&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; cut -d &lt;span class="s1"&gt;&amp;#39; &amp;#39;&lt;/span&gt; -f -4&lt;span class="k"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; -n &lt;span class="s2"&gt;&amp;#34;&lt;/span&gt;&lt;span class="nv"&gt;$route&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="k"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; sudo ip route del default &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&amp;gt; /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; sudo ip route replace default via &lt;span class="nv"&gt;$route&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;#34;No routes match: &lt;/span&gt;&lt;span class="nv"&gt;$interface&lt;/span&gt;&lt;span class="s2"&gt;&amp;#34;&lt;/span&gt; &amp;gt;&lt;span class="p"&gt;&amp;amp;&lt;/span&gt;&lt;span class="m"&gt;2&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt; &lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class="line"&gt;&lt;span class="cl"&gt;&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;With this in available in my shell, I can simply do &lt;code&gt;route_to wlan0&lt;/code&gt; and my
system will start using &lt;code&gt;wlan0&lt;/code&gt; as the default interface.&lt;/p&gt;</description></item><item><title>VNC over reverse SSH</title><link>/vnc/</link><pubDate>Sun, 10 May 2015 00:00:00 +0000</pubDate><guid>/vnc/</guid><description>&lt;blockquote&gt;
&lt;p&gt;Note: My &lt;a href="/jumper"&gt;recent article&lt;/a&gt;, talking about WireGuard is a
better and more ergonomic approach to achive this, compared to using
reverse SSH.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;About a year ago, I switched my parents computer (lets call it &lt;code&gt;P&lt;/code&gt;) from the
pre-installed OS (Windows) to Ubuntu. The primary reason for this switch was it
hard for me to debug and fix issues. Things have been smooth after the switch
with no issues which I found hard to fix remotely. What specially has worked is
my ability to log in to the computer when its on through my VPS and service it.&lt;/p&gt;</description></item><item><title>The ubiquitous shell</title><link>/bash/</link><pubDate>Thu, 05 Mar 2015 00:00:00 +0000</pubDate><guid>/bash/</guid><description>&lt;p&gt;Nothing makes a terminal feel more like home as one&amp;rsquo;s own shell
configuration. My shell is bash, configured through a &lt;a href="https://github.com/crodjer/configs/blob/master/.bashrc"&gt;.bashrc&lt;/a&gt; and
&lt;a href="https://github.com/crodjer/configs/blob/master/.profile"&gt;.profile&lt;/a&gt;. Bash is likely to be present in any Unix machine one
uses.&lt;/p&gt;
&lt;p&gt;Bash is also my primary IDE. This allows for keeping a relatively simple set of
utilities and tools to internalize. Coupled with a reliable window manager,
workflows can be quickly scripted in the head. Shell scripts are an option as
well for more complex flows. This can be done at multiple levels: using uniquely
identifiable comments in commands , bash functions, complete bash script.&lt;/p&gt;</description></item><item><title>Emacs: Flymake with virtualenvs in python-mode</title><link>/emacs-flymake-with-virtualenvs-in-python-mode/</link><pubDate>Tue, 28 Jan 2014 00:00:00 +0000</pubDate><guid>/emacs-flymake-with-virtualenvs-in-python-mode/</guid><description>&lt;p&gt;Lately, I have been writing some python with emacs. So, I have been trying to
get the popular checkers (&lt;code&gt;pylint&lt;/code&gt;/&lt;code&gt;pyflakes&lt;/code&gt;) to work with flymake and
virtualenvs. The issues with existing solutions to get flymake working with the
checkers is that most of them assume a global version of executable (which would
be fine if it weren&amp;rsquo;t for the whole python 2 and 3 incompatibility).&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;python-mode&lt;/code&gt; in the latest emacs versions (mine is &lt;code&gt;24.3.1&lt;/code&gt;) includes a
basic support for &lt;code&gt;virtualenvs&lt;/code&gt;. I run &lt;code&gt;pylint/pyflakes&lt;/code&gt; through the command
&lt;code&gt;env&lt;/code&gt; with the environment variables calculated from the functions provided by
&lt;code&gt;python-mode&lt;/code&gt;. Here is the code extracted from my
&lt;a href="https://github.com/crodjer/configs/blob/master/.emacs"&gt;emacs configuration&lt;/a&gt;:&lt;/p&gt;</description></item><item><title>A productive workflow with vim sessions and servers</title><link>/yet-another-vim-productivity-post-server-client/</link><pubDate>Sun, 15 Apr 2012 00:00:00 +0000</pubDate><guid>/yet-another-vim-productivity-post-server-client/</guid><description>&lt;p&gt;You can find lot of posts on the internet which try to tell you how to improve
the ways in which Vim is used. Well, here is another one.&lt;/p&gt;
&lt;p&gt;#Vim Server, ZSH and Tiles&lt;/p&gt;
&lt;p&gt;A Vim instance behaves as a server in which files can be opened through remote
applications. Read &lt;code&gt;:help client-server&lt;/code&gt; of Vim to know more about this. I
generally keep multiple Vim sessions running, described by task they are related
to.&lt;/p&gt;</description></item><item><title>About</title><link>/about/</link><pubDate>Fri, 19 Feb 2016 02:34:01 +0000</pubDate><guid>/about/</guid><description>&lt;p&gt;Hi, I am Rohan. I read and write code. I frequently read about physics, energy
and climate change. After getting depressed enough of the latter, I read fiction
or annoy my friends with my ideas or just code.&lt;/p&gt;
&lt;p&gt;I like to play table tennis, cricket and chess. I also bought a harmonica. Keep
your hands on ears if you see me holding it. And yeah, I maintain a blog, which
is so devoid of activity that it should have cobwebs on
it.&lt;/p&gt;</description></item><item><title>Configure ssh to handle proxies and tunnels seamlessly</title><link>/configure-ssh-to-handle-proxies-and-tunnels-seamlessly/</link><pubDate>Sat, 27 Aug 2011 00:00:00 +0000</pubDate><guid>/configure-ssh-to-handle-proxies-and-tunnels-seamlessly/</guid><description>&lt;p&gt;Recently I opened up on the port &lt;em&gt;443&lt;/em&gt; over my EC2 instance (more or less like
a VPS), so that I can access it through any firewalled proxy too. Apart from
getting SSH running to a machine from outside world, I did some cool
configuration to have ssh deal with with various remote hosts automatically. It
uses &lt;em&gt;the right&lt;/em&gt; proxy settings according the host being accessed.&lt;/p&gt;
&lt;p&gt;All the stuff which runs over ssh (like &lt;em&gt;scp&lt;/em&gt;, &lt;em&gt;git&lt;/em&gt; etc.) also work the way
they are supposed to, following the ssh configuration.&lt;/p&gt;</description></item></channel></rss>