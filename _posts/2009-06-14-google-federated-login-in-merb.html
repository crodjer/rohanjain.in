--- 
name: google-federated-login-in-merb
layout: post
title: Google Federated Login in Merb
time: 2009-06-14 16:30:00.006000 +05:30
tags: 
- ruby
- merb
- programming
- web
---
Google Federated login is implemented using Open ID standards. Google uses AX Response instead of the Standard Sreg Response. Merb bundles with the meb-auth-more gem, which provides openid authentication functionality to merb apps. The strategy is called :basic_openid. To use Google Federated Login I modified the code for openid authentication to use AX response(/usr/lib/ruby/gems/1.8/gems/merb-auth-more-1.0.11/lib/merb-auth-more/strategies/basic/).<br /><br />The run method looks like this:<br /><script src="http://gist.github.com/129648.js"></script><br /><br />And the on_success and the find_user_by_email method looks like this:<br /><br /><script src="http://gist.github.com/129647.js"></script><br /><br />It is based on <a href="http://www.franzens.org/?p=13">Nils Franzen's guide to Using Google Federated Login in your Rails Application</a>.
