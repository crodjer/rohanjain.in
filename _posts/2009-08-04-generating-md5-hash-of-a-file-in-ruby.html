--- 
name: generating-md5-hash-of-a-file-in-ruby
layout: post
title: Generating MD5 hash of a file in Ruby
time: 2009-08-04 20:18:00.004000 +05:30
tags: 
- ruby
- programming
---
The 'md5' library can be used to hash the 'string' using the MD5 algorithm. The 'new' or 'md5' function can be used to create a new md5 object. The string to be hashed can be passed as an argument to these functions.<br /><code><br />require 'md5' #include the library<br />hash = MD5.new('Hello World') #or MD5.md5('Hello World')<br /><br /></code>Using 'update' you can add more string to the md5 object. The step 2 could have been accomplished in the following way as well :<br /><br /><code>hash = MD5.new #create a new md5 object<br />hash.update('Hello') #add the string 'Hello' to the object<br />hash.update(' World') </code><code>#add the string ' World' to the object</code><br /><br />To return the hash value the 'hexdigest' function is used<br /><br /><code>puts hash.hexdigest #display the md5 hash of 'Hello World'</code><br /><br />Now, to generate the md5 hash of a file we need to read the content of the file as a string, then use the string to generate the MD5 hash. So in short you can do the following:<br /><code><br />md5hash = MD5.new(File.read('path_to_file')).hexdigest<br /></code><br />Note: My sample file was a simple text file. You may have to add the 'b' flag for binary files.<br /><br /><code>md5hash = MD5.new(File.read('path_to_file', 'b')).hexdigest<br /></code>
