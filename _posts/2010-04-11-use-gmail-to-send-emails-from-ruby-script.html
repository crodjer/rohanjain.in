--- 
name: use-gmail-to-send-emails-from-ruby-script
layout: post
title: Use Gmail to send emails from Ruby script
time: 2010-04-11 21:36:00.011000 +05:30
tags: 
- ruby
- gmail
- programming
---
Here is a very simple script to send emails from a Ruby script with your Gmail account. <script src="http://gist.github.com/362842.js?file=gmail.rb"></script><br />Feel free to add your own modifications and use it as you like. I used a modified version of the script to send mail to all the people registered to one of my college clubs.<br /><br />Observations:<br /><ol><li>Ruby 1.8.7 lacks the support for TLS; used 'tlsmail' gem to remedy this.</li><li>The <code>msg</code> local variable holds both: the email header and the email body, separated by a <code>LF('\n')</code><br /></li><li>The SMTP library automatically converts a single occurrence of a <code>CR('\r')</code> or <code>LF('\n')</code> to a <code>CRLF</code> pair.</li><li>If you miss out on the header, Gmail won't show much details when you click on "show details"<br /></li><li>The message will be send even if the <code>from_email</code> part is missing in the <code>sendmail</code> fucntion.</li></ol>Links:<br /><ol><li><a href="http://github.com/dcparker/ruby-gmail">A Rubyesque interface to Gmail</a> - I have not tried it yet, but the features look promising.</li><li><a href="http://ruby-doc.org/stdlib/libdoc/net/smtp/rdoc/index.html">Rdoc</a> for Ruby net/smtp library.<br /></li></ol>
