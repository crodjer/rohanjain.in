<!doctype html><html lang=en-US><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=author content="Rohan Jain"><meta name=description content="Firejail can be used to safely run JavaScript applications like gemini-cli by restricting their environment."><meta property="og:title" content="Run Gemini CLI Safely with Firejail"><meta property="og:type" content="article"><meta property="og:description" content="Firejail can be used to safely run JavaScript applications like gemini-cli by restricting their environment."><meta property="article:published_time" content="2025-12-13T14:49:04+05:30"><meta property="article:modified_time" content="2025-12-14T15:32:04+05:30"><title>Run Gemini CLI Safely with Firejail</title><link rel=canonical href=/gemini-cli/><link rel=stylesheet href=/css/main.min.afafd1394edb70a0fd8ac692cf75af36bb2b1c76a02b6301f05c31e73aea3fca.css><link rel="shortcut icon" href=/img/favicon.ico><script>let FF_FOUC_FIX</script></head><body lang=en><header><a href=/>The Perpetual Amateur</a><nav><ul><li><a href=/>Home</a></li><li><a href=/about/>About</a></li></ul></nav></header><main><article><header><h1>Run Gemini CLI Safely with Firejail</h1><small><time datetime=2025-12-13 title='Sat Dec 13 2025 14:49:04 +0530'>Dec 13, 2025</time>
| 2 minutes read</small></header><p>I have always had a strict policy against running JS applications. But
<code>gemini-cli</code> looked promising, and I wanted to use it outside of a throwaway VM.</p><p>A friend introduced me to <a href=https://github.com/netblue30/firejail>firejail</a>,
which runs programs in a (configurable) restricted environment. This meant I
could safely use tools like <code>gemini-cli</code> and reduce my exposure to the
ever-present supply chain attacks in the JavaScript world.</p><h2 id=running-gemini-cli><a class=heading-anchor href=#running-gemini-cli aria-label="Permalink to Running Gemini CLI">ยง</a>
Running Gemini CLI</h2><p>We don&rsquo;t even have to build the <code>gemini-cli</code> client. We can directly download
<code>gemini.js</code> from the <code>gemini-cli</code>
<a href=https://github.com/google-gemini/gemini-cli/releases/latest>release page</a>:</p><pre><code class=language-bash>curl -fsLo $HOME/.gemini/gemini.js \
    https://github.com/google-gemini/gemini-cli/releases/latest/download/gemini.js
</code></pre><p>Now, we can run this in a firejail sandbox. I personally prefer to use <code>deno</code>:</p><pre><code class=language-bash>DENO_COMPAT=1 firejail --whitelist=~/.gemini --whitelist=$PWD \
    $(which deno) \
    --allow-env --allow-sys --allow-read --allow-write --allow-run \
    ~/.gemini/gemini.js
</code></pre><p>This runs <code>deno</code> in the node compatible mode under <code>firejail</code> while allowing
access to <code>~/.gemini</code> and the current directories.</p><h2 id=my-setup><a class=heading-anchor href=#my-setup aria-label="Permalink to My Setup">ยง</a>
My Setup</h2><p>I have a more complex script which takes care of keeping <code>gemini.js</code> up to date
and runs it with stricter permissions.
I&rsquo;d recommend <a href=https://github.com/crodjer/configs/blob/master/neovim/.local/bin/gemini.sh>checking it out here</a>.</p><p>In addition to the basic file system restrictions, this script also leverages
<code>deno</code>&rsquo;s permission system. It also grants access to the
<a href=https://github.com/jdx/mise>mise</a> directory.</p><p>A generalized <code>firejail</code> profile for <code>deno</code> may be configured in
<code>~/.config/firejail/deno.profile</code>. Check out <code>man firejail-profile</code> to learn how
to do this. For example:</p><pre><code>quiet
include default.profile

whitelist ${HOME}/.local/share/mise
</code></pre></article></main><footer><a href=/blog>All Posts</a>
<a href=//github.com/crodjer target=_blank rel=noopener>Github</a>
<a href=//linkedin.com/in/crodjer target=_blank rel=noopener>Linkedin</a>
<a href=//twitter.com/__crodjer__ target=_blank rel=noopener>Twitter</a></footer><script data-goatcounter=https://t.rohanjain.in/count async src=/js/count.min.4e3257a9873dba863f309fe89287c9f6e962d7be1758704f13b2608e58008e5f.js></script><noscript><img src="https://t.rohanjain.in/count?p=%2fgemini-cli%2f&t=Run%20Gemini%20CLI%20Safely%20with%20Firejail"></noscript></body></html>