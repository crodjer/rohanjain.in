<!doctype html><html lang=en-US><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=author content="Rohan Jain"><meta name=description content="Firejail can be used to safely run JavaScript applications like gemini-cli by restricting their environment."><meta property="og:title" content="Run Gemini CLI Safely with Firejail"><meta property="og:description" content="Firejail can be used to safely run JavaScript applications like gemini-cli by restricting their environment."><meta property="og:type" content="article"><meta property="og:url" content="/gemini-cli/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2025-12-13T14:49:04+05:30"><meta property="article:modified_time" content="2025-12-14T15:32:04+05:30"><title>Run Gemini CLI Safely with Firejail</title><link rel=canonical href=/gemini-cli/><link rel=stylesheet href=/css/pygments.min.42fe0099f9515ec8cb510d96b2ec79b3525dab83b63dc7ca290b29679ae42e97.css integrity="sha256-Qv4AmflRXsjLUQ2Wsux5s1Jdq4O2PcfKKQspZ5rkLpc="><link rel=stylesheet href=/css/main.min.4313ac22ba74ce128c1792022bde3c3ec104c1ab2d633d1cbbc5d8219336f9de.css integrity="sha256-QxOsIrp0zhKMF5ICK948PsEEwastYz0cu8XYIZM2+d4="><link rel="shortcut icon" href=/img/favicon.ico></head><body lang=en><section class=header><div class=container><div class=content><a href=/><img class=avatar src=/img/avatar-small.jpg alt=avatar></a>
<a href=/><div class=name>Rohan Jain</div></a><nav><ul><li class=nav-home><a href=/><span>Home</span></a></li><li class=nav-about><a href=/about/><span>About</span></a></li></ul></nav></div></div></section><section class="main post non-narrow zero-top-spacing"><div class=container><div class=content><div class=front-matter><div class=title-container><div class=page-heading>Run Gemini CLI Safely with Firejail</div><div class=initials><a href=/></a></div></div><div class=meta><div class=date title='Sat Dec 13 2025 14:49:04 +0530'>Dec 13, 2025</div><div class=reading-time><div class=middot></div>2 minutes read</div></div></div><div class=markdown><p>I have always had a strict policy against running JS applications. But
<code>gemini-cli</code> looked promising, and I wanted to use it outside of a throwaway VM.</p><p>A friend introduced me to <a href=https://github.com/netblue30/firejail>firejail</a>,
which runs programs in a (configurable) restricted environment. This meant I
could safely use tools like <code>gemini-cli</code> and reduce my exposure to the
ever-present supply chain attacks in the JavaScript world.</p><h1 id=running-gemini-cli>Running Gemini CLI</h1><p>We don&rsquo;t even have to build the <code>gemini-cli</code> client. We can directly download
<code>gemini.js</code> from the <code>gemini-cli</code>
<a href=https://github.com/google-gemini/gemini-cli/releases/latest>release page</a>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl -fsLo <span class=nv>$HOME</span>/.gemini/gemini.js <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    https://github.com/google-gemini/gemini-cli/releases/latest/download/gemini.js
</span></span></code></pre></div><p>Now, we can run this in a firejail sandbox. I personally prefer to use <code>deno</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nv>DENO_COMPAT</span><span class=o>=</span><span class=m>1</span> firejail --whitelist<span class=o>=</span>~/.gemini --whitelist<span class=o>=</span><span class=nv>$PWD</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    <span class=k>$(</span>which deno<span class=k>)</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    --allow-env --allow-sys --allow-read --allow-write --allow-run <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>    ~/.gemini/gemini.js
</span></span></code></pre></div><p>This runs <code>deno</code> in the node compatible mode under <code>firejail</code> while allowing
access to <code>~/.gemini</code> and the current directories.</p><h1 id=my-setup>My Setup</h1><p>I have a more complex script which takes care of keeping <code>gemini.js</code> up to date
and runs it with stricter permissions.
I&rsquo;d recommend <a href=https://github.com/crodjer/configs/blob/master/neovim/.local/bin/gemini.sh>checking it out here</a>.</p><p>In addition to the basic file system restrictions, this script also leverages
<code>deno</code>&rsquo;s permission system. It also grants access to the
<a href=https://github.com/jdx/mise>mise</a> directory.</p><p>A generalized <code>firejail</code> profile for <code>deno</code> may be configured in
<code>~/.config/firejail/deno.profile</code>. Check out <code>man firejail-profile</code> to learn how
to do this. For example:</p><pre tabindex=0><code>quiet
include default.profile

whitelist ${HOME}/.local/share/mise
</code></pre><br><p class=back-to-posts><a href=/blog>All Posts</a></p></div></div></div></section><section class=icons><div class=container><div class=content><a href=//github.com/crodjer target=_blank rel=noopener>Github</a>
<a href=//linkedin.com/in/crodjer target=_blank rel=noopener>Linkedin</a>
<a href=//twitter.com/__crodjer__ target=_blank rel=noopener>Twitter</a></div></div></section></body></html>